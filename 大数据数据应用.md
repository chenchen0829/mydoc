加载图片需要绑定host: 199.232.28.133  raw.githubusercontent.com

## 大数据的数据应用

1. 目前我司主要由三类分析类数据应用。(自定义查询系统，可视化报表，整体/分业务数据分析平台)。
2. 建设的前后顺序，自定义查询系统->可视化报表->整体/分业务分析平台。
3. 每一个的应用场景都有侧重点，基本能覆盖所有的业务形态。

#### **自定义查询系统**
##### 使用场景

1. 一般是整个公司最先搭建的，面向运营使用，通过拖拽维度指标查询数据。

2. 主要做一次性的即系查询。

3. 支持实时和离线数据OLAP分析。

4. 业务的模型主要是各个分析大类(ag: 商品，用户，店铺，内容，直播间等)，通过这些大类的rowkey进行关联，业务以星状模型的表进行扩展。

5. 数据来源主要有presto+hive, druid, kylin等不同的olap分析引擎。

6. **宏观上来讲可以适配所有的表结构，但是基本上只会用在大的公共业务层面上。**

   

##### 使用

1. 数据开发同学开发业务宽表，根据rowkey申请业务模型，并且录入宽表的维度(维度很少，主要作为过滤条件)和指标。
2. 运营同学根据模型选择不同的维度和指标(指标可以配置不同聚合类型max，min,count,count(distinct)等）,返回数据支持不同的表格展示(饼图，表格，折线图)




#### 可视化报表
1. 一般在整个公司最先搭建，面向开发和运营，配置化的查询各种数据。

2. 长期性的数据分析展示。

3. 侧重点在于数据的分析展示，并且支持不同的数据源(mysql, presto, es, druid, kylin等)，自定义模型(饼图，折线图)。自定义分析场景(同环比，变化率，对比变化，钻取(上卷，下钻)分析的场景)

4. 使用上趋于配置化。无法进行更加复杂的自定义。

   

##### 使用

1. 配置数据源，配置数据表。(支持自定义sql形式)
2. 根据数据表配置数据模型过滤条件，展示图表等。
3. 基本上全部是配置化的形式。不需要后端的开发介入。使用方便。
4. **配置化的展示带来的后果是，展示方式只能固化，并且查询效率不高，无法形成分析思路。无法做扩展。**






#### 其他分析平台
1. 侧重点主要做数据分析结果的透出，对某一块业务的分析思路呈现。业务出现问题可以通过分析平台快速找到问题原因，以及一些智能分析的功能。
2. 比较成熟的产品包括(实时大屏，各种分析产品(整个平台，直播，客服，金融，广告)等)。
3. 偏向于稳定的业务。主要用于分析思路的沉淀，和业务分析生态的建立。
4. **一般需要单独开发。自定义开发部分比较多。可以在同一个模块适配不同的数据源，用户体验最好，查询效率较高。**


## 一些建设的思考
1. 三类平台在整个数据中台的建设中必不可少。三者属于相互依赖的关系，从一块新业务的立项，自定义查询系统，可视化报表就发挥了重要的数据分析作用，待业务高速发展，并且前两类系统频繁使用，业务已经有了一些思路沉淀。这个时候就需要下游分析类的平台对业务从整体到局部，把整个业务的数据分析思路沉淀下来。形成一整套的数据分析体系。

2. 每个平台都需要对接统一数据查询服务，每个平台的权限控制可以自定义，也可以依赖底层数据源的权限管理(ag:hive-metadata)。
3. 其他业务分析应用可能高度依赖自定义sql。需要在统一数据查询服务中根据元数据/指标的信息，配置自定义sql。业务分析应用只需要调用接口即可。自定义sql可以配置不同的数据源服务。

整个数据的架构如下：

![image-20200518143559378](https://github.com/chenchen0829/mydoc/blob/master/image/images/image-20200518143559378.png?raw=true)



